# Compiler Project

## Overview

This project implements a simple compiler that translates a high-level language into assembly code. The compiler consists of three main components:
1. **Lexer**: Tokenizes the input source code.
2. **Parser**: Parses the tokens and generates an Abstract Syntax Tree (AST).
3. **Code Generator**: Converts the AST into assembly code.

## Design and Implementation

### Lexer

The lexer reads the input source code and converts it into a sequence of tokens. Each token represents a meaningful element of the language, such as keywords, identifiers, operators, and literals.

- **File**: `lexer.c`
- **Functions**:
  - `lexAnalysis(const char *input, FILE *opFile)`: Analyzes a line of input and writes tokens to the output file.
  - `writeTk(TkType type, const char *lexeme, FILE *opFile)`: Writes a token to the output file.

### Parser

The parser reads the tokens generated by the lexer and constructs an Abstract Syntax Tree (AST). It also performs syntax checking to ensure the input code adheres to the language's grammar.

- **File**: `parser.c`
- **Functions**:
  - `parseStmt(FILE *ipFile, FILE *outputFile, Token *token)`: Parses a statement.
  - `parseExp(FILE *ipFile, char *expression, int *isArithmetic)`: Parses an expression.
  - `parseComp(FILE *ipFile, FILE *outputFile)`: Parses a comparison.
  - `isDeclared(const char *identi)`: Checks if an identifier is declared.
  - `addIdenti(const char *identi)`: Adds a declared identifier.

### Code Generator

The code generator takes the AST produced by the parser and generates corresponding assembly code. It handles different types of statements and expressions, including arithmetic operations and conditional statements.

- **File**: `code.c`
- **Functions**:
  - `processAST(FILE *inFile, FILE *outFile)`: Processes the AST and generates assembly code.
  - `handleInstruction(char *line, FILE *outputFile, FILE *inFile)`: Handles individual instructions.
  - `handleArith(char *line, FILE *outputFile)`: Handles arithmetic operations.

## Usage

1. **Lexical Analysis**:
   ```sh
   gcc lexer.c -o lexer
   ./lexer input_file
   ```

2. **Parsing**:
   ```sh
   gcc parser.c -o parser
   ./parser
   ```

3. **Code Generation**:
   ```sh
   gcc code.c -o codegen
   ./codegen
   ```

## Presentation

To demonstrate the working of the compiler and explain design choices, prepare a presentation covering the following points:

1. **Introduction**:
   - Overview of the compiler project.
   - Explanation of the high-level language and its features.

2. **Lexer**:
   - Role of the lexer in the compilation process.
   - Key functions and their implementation.
   - Example of tokenizing a sample input.

3. **Parser**:
   - Role of the parser in the compilation process.
   - Key functions and their implementation.
   - Example of parsing tokens and generating an AST.

4. **Code Generator**:
   - Role of the code generator in the compilation process.
   - Key functions and their implementation.
   - Example of converting an AST into assembly code.

5. **Conclusion**:
   - Summary of the compiler's design and implementation.
   - Potential improvements and future work.

## License

This project is licensed under the MIT License.
